<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_char_idle</spriteName>
  <solid>-1</solid>
  <visible>-1</visible>
  <depth>-100</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Bewegungstasten, kann man bei Bedarf mappen
global.up = vk_up;
global.down = ord('S');
global.right = ord('D');
global.left = ord('A');
global.jump = ord('W');
global.shoot = ord('Space');
global.ducken = vk_shift;

//geschwindigkeiten
image_speed = 0.15;

global.movingspeed = standard_movingspeed;
global.gravityforce = 0.2; //maximale fallgeschwindigkeit
global.jumpforce = standard_jumpforce; //sprunggeschwindigkeit - 2px/step
   
maxfallgeschwindigkeit = standard_max_fallingspeed;
fallgeschwindigkeit = 0; //ja is selbsterklaerend

//jumpdelay ist der Zeitfaktor fï¿½r die Sprungdauer in Abhaengigkeit der Raumgeschwindigkeit
//je kleiner dieser wert ist, desto niedriger springt die spielfigur.
global.jumpdelay = 13; 

jump = 0; //in jedem Step wird jump um 1 erhoeht. Ist jump &gt; global.jumpdelay dann setzt die Gravity ein

//zustandsvariablen, selbsterklaerend kann man beliebig erweitern
global.dir = 1;
global.is_walking = false;
global.is_shooting = false;
global.can_shoot = true;
global.is_jumping = false;
global.platform = noone;
global.in_water = false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.canmove = true;
global.anzug_anziehen = false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.jet = true
if instance_exists(obj_jet)
{
    x = obj_jet.x+16;
    y = obj_jet.y+3;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>sprites aendern</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.anzug_anziehen = false
if global.anzug = false
{
//beliebige zustaende hinzufuegen und entsprechend das sprite aendern
if (global.is_walking){
    
    if (global.dir = -1){
        sprite_index = spr_char_walking_left;
    }else{
        sprite_index = spr_char_walking_right;
    }
    
}else {
    sprite_index = spr_char_idle; 
}
if global.leiter = true
{
    sprite_index = spr_char_leiter;
}
if global.jet = true
{
    if (global.dir = -1)
    {
        sprite_index = spr_char_walking_left;
    }
    else
    {
        sprite_index = spr_char_walking_right;
    }
}
}
else
{
    sprite_index = spr_char_idle; 
}
if global.anzug_anziehen = true
{
   sprite_index = spr_anzug_idle;
}
//Mit Anzug
if global.anzug = true
{
image_speed = 0.15;
//beliebige zustaende hinzufuegen und entsprechend das sprite aendern
if (global.is_walking){
    
    if (global.dir = -1){
        sprite_index = spr_char_walking_left;
    }else{
        sprite_index = spr_char_walking_right;
    }
    
}else {
    sprite_index = spr_anzug_idle; 
}
if global.leiter = true
{
    sprite_index = spr_char_leiter;
}
if global.jet = true
{
    if (global.dir = -1)
    {
        sprite_index = spr_char_walking_left;
    }
    else
    {
        sprite_index = spr_char_walking_right;
    }
}
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>gravity</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.jet = false
if global.leiter = false
if global.fly = false
{
if ((global.is_jumping = false) &amp;&amp; global.platform = noone){ //Gravitation nur relevant wenn der player NICHT springt und NICHT auf einer beweglichen Platform steht

    if (place_free(x, y + 3)){
        //selfmade gravity :x
        
        if (fallgeschwindigkeit &lt; maxfallgeschwindigkeit) {
            fallgeschwindigkeit += global.gravityforce;
        }
        
        y += fallgeschwindigkeit;

    }else{
        fallgeschwindigkeit = 0;
        move_contact_solid(270,2); //schliesst den Abstand zwischen Boden und Spielerobjekt
        y=round(y); //rundet die y-Koordinate falls sie kein Integer ist
        move_outside_solid(90,2); //wenn so gerundet wurde, dass der Spieler im Boden steckt -&gt; nach oben aus dem Boden bewegen. Kommt sehr selten vor
    }

    if (fallgeschwindigkeit &gt;= maxfallgeschwindigkeit){
        //begrenzt die fallgeschwindigkeit
        fallgeschwindigkeit = maxfallgeschwindigkeit;
    }

}
}
if global.leiter = true
{
    if (keyboard_check(global.jump))
    if (place_free(x, y - 2))
    {
        y -= 1;
    }
    if (keyboard_check(global.down))
    if (place_free(x, y + 2))
    {
        y += 1;
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>player bewegt sich nicht</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Hier koennte vll. noch was hinkommen
if (!(keyboard_check(global.right) || keyboard_check(global.left))){
    global.is_walking = false;
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>springen</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.leiter = false
if global.canmove = true
{
//Wechselt in den Springenzustand wenn der Player global.up drueckt -&gt; Die Gravitation wird ausgeschaltet
if (keyboard_check_pressed(global.jump) &amp;&amp; (!place_free(x,y+1) || global.in_water)){
    global.is_jumping = true;
}
}

//Waehrend der Player global.up gedrueckt haelt ist global.jumping true -&gt; Das Playerobjekt bewegt sich nach oben (wenn es denn platz hat)
if (global.is_jumping){

    if (place_free(x,y-global.jumpforce)){
        y-=global.jumpforce;
              
        jump+=1; //jumpcounter wird erhoeht
    }else{
        global.is_jumping = false;
    }


    
}

//Loest den Springenzustand wenn der Player global.up loslaesst -&gt; Die Gravitation setzt jetzt ein
if (keyboard_check_released(global.jump)){
    global.is_jumping = false;
    jump = 0;
}

if (jump &gt;= global.jumpdelay){ //wenn der jumpcounter die Grenze von global.jumpdelay erreicht hat setzt die Gravitation wieder ein
    global.is_jumping = false;
    jump = 0; //muss natuerlich wieder auf 0 sonst kann man ja nur 1x springen ;)
}
//Fliegen
if keyboard_check(global.jump)
if global.fly = true
if (place_free(x,y-2))
{
    y -= 2;
}
if keyboard_check(global.down)
if global.fly = true
if (place_free(x,y+1))
{
    y += 2;
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>wasserkontrolle</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Setzt die Fallgeschwindigkeit und die Bewegungsgeschwindigkeit herunter
if (place_meeting(x,y,obj_water)){
    global.in_water = true;
    maxfallgeschwindigkeit = 1;
    global.movingspeed = 1;
    global.jumpforce = 2;
    
}else{
    //alles wieder auf normal setzen, wenn der Spieler das Wasser verlaesst
    global.in_water = false;
    maxfallgeschwindigkeit = standard_max_fallingspeed;
    global.movingspeed = standard_movingspeed;
    global.jumpforce = standard_jumpforce;
    
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Leiter
if place_meeting(x,y,obj_leiter)
if global.jet = false
{
    global.leiter = true
}
if !place_meeting(x,y,obj_leiter)
{
    global.leiter = false
}
//Jet
if global.jet = true
{
    solid = false;
    image_speed = 0;
}
if global.jet = false
{
    solid = true;
    image_speed = 0.15;
}
if global.jet = true
if !instance_exists(obj_jet)
{
    global.jet = false;
}
if global.anzug_on &gt;= 5
{
    global.anzug = true;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="5" enumb="1">
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>bewegen des players</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.jet = false
if global.canmove = true
{
if (keyboard_check(global.left) || keyboard_check(global.right)){
    
    //Aendert die Blickrichtung (global.dir) und versetzt das Playerobjekt in den Zustand global.is_walking
    if (keyboard_check(global.right)) {
        global.is_walking = true;
        global.dir = 1; //nach rechts sehen
        
    }else if (keyboard_check(global.left)){
        global.is_walking = true;
        global.dir = -1; //nach links sehen
        
    }
    
    //fuehrt die eigentliche Bewegung aus
    scr_move_player(global.movingspeed, 0, global.dir, 0);
        
}
}
if global.jet = true
if global.canmove = true
{
if (keyboard_check(global.left) || keyboard_check(global.right))
{
    if (keyboard_check(global.right))
    {
        global.dir = 1; //nach rechts sehen
        
    }else if (keyboard_check(global.left))
    {
        global.dir = -1; //nach links sehen
    }    
}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="54">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_create(x,y,obj_rocket);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="53">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.gun = true
{
    instance_create(x,y,obj_bullet);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="0">
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>unwichtig</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>room_restart();</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>zeichnet sich selbst</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>601</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_execute_script</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>9</kind>
            <script>scr_draw_self</script>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.gun = true
{
    wdir = point_direction(x,y,mouse_x,mouse_y);
    if (mouse_x &lt; x)
    draw_sprite_ext(spr_gun,-1,x+lengthdir_x(7,wdir),y+lengthdir_y(7,wdir),-1,1,360,c_white,1);
    else
    draw_sprite_ext(spr_gun,-1,x+lengthdir_x(7,wdir),y+lengthdir_y(7,wdir),1,1,360,c_white,1);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="70">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.anzug = false
{
if global.anzug_anziehen = false
{
    global.canmove = false;
    global.anzug_anziehen = true;
    alarm[0] = 60;
    repeat(5)
    {
        instance_create(random(room_width), random(room_height),obj_anzug_teil);
    }
}
}
else
//if global.anzug = true
{
    global.anzug_on = 0;
    global.anzug = false;
    repeat(5)
    {
        instance_create(obj_player.x,obj_player.y,obj_anzug_teil);
    }
    with(obj_anzug_teil)
    {
        fliegweg = true;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
